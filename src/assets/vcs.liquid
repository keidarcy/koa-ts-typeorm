<link rel="stylesheet" type="text/css" href="{{ 'vcs.css' | asset_url }}"/>
<div class="vcs-content-container">
  <p class="vcs-section-title" style="color: ${customize?.titleColor};">
    ${customize?.bspTitle}
  </p>
  {%- assign collection = collections['bsp'] -%}
  <div class="vcs-products-container">
    {% for product in collection.products limit: 4 %}
      <div class="vcs-card js-vcs-card" id="vcs-card-container">

        <div class="vcs-image">
          <a href={{product.url}} target="_blank">
            <img alt={{product.title}} class="vcs-image-hover" src={{product.images[0] | img_url: '1000x1000', crop: 'bottom' }}/>
            <img alt={{product.title}} class="vcs-image-back" src={{product.images[1] | img_url: '1000x1000', crop: 'bottom' }}/>
          </a>
        </div>

        <div style="color: ${customize?.productNameColor};">
          <p class="vcs-title">{{product.title}}</p>
          <p class="vcs-title">{{product.vendor}}</p>
          <div class="vcs-title">
            {% if product.compare_at_price %}
              <span class="vcs-compare-price js-vcs-price-1">
                {{ product.compare_at_price | money }}
              </span>
            {% endif %}
            <span class="js-vcs-compare-price-1">{{ product.price | money }}</span>
          </div>
        </div>

        {%- unless product.has_only_default_variant -%}
          {% for product_option in product.options_with_values %}
            <div class="vcs-selection-wrapper">
              <p class="vcs-selection-label">{{product_option.name}}</p>
              <div class="vcs-selection-box">
                <select id={{product_option.name}} name={{product_option.name}} class="js-vcs-option-{{ forloop.index0 }}">
                  {% for value in product_option.values %}
                    <option {% if product_option.selected_value == value %} selected {% endif %}>
                      {{ value }}
                    </option>
                  {% endfor %}
                </select>
              </div>
            </div>
          {% endfor %}
        {%- endunless -%}

        <form action="/cart/add" enctype="multipart/form-data" method="post">
          <input name="form_type" type="hidden" value="product">
          <input name="utf8" type="hidden" value="âœ“">
          {% if product.has_only_default_variant %}
            <input name="id" value="{{ product.first_available_variant.id }}" type="hidden">
          {% else %}
            <select class="js-vcs-variant-select" hidden name="id">
              {% for variant in product.variants %}
                <option data-availble={{variant.available}} data-compareatprice="{% if product.compare_at_price %}{{ variant.compare_at_price | money }}{% endif %}" data-price="{{ variant.price | money }}" {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} value={{variant.id}}>
                  {{variant.title}}
                </option>
              {% endfor %}
            </select>
          {% endif %}
          <input hidden name="quantity" type="text" value="1"/>
          <button class="vcs-button js-vcs-button {%- unless product.available -%}vcs-button-diabled{%- endunless -%}" style="background-color: ${customize?.cartColor}; color: ${customize?.productNameColor}">
            ${customize.cartText}
          </button>
        </form>

      </div>
    {% endfor %}
  </div>
</div>

<script src="{{ 'vcs.js' | asset_url }}" defer data-no-instant></script>